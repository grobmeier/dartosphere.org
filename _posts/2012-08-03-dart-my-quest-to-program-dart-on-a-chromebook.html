---
title: 'Dart: My Quest to Program Dart on a Chromebook'
layout: post
tags:
    - chrome
    - chromeos
    - dartlang
    - Linux
category: jjinuxland
published: '2012-08-03T17:43:00-07:00'

---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Hl6l0HkVAa0/UBxZR3ZZM3I/AAAAAAAAFb4/hK8hfo4Y0n4/s1600/dart_editor_on_chromebook.jpeg" imageanchor="1" style="clear:right; float:right; margin-left:1em; margin-bottom:1em"><img border="0" height="300" width="400" src="http://3.bp.blogspot.com/-Hl6l0HkVAa0/UBxZR3ZZM3I/AAAAAAAAFb4/hK8hfo4Y0n4/s400/dart_editor_on_chromebook.jpeg" /></a></div> <p>They gave me a cool new Chromebook at work. Now, the sensible thing to do is to use it as a convenient web browser and nothing more. However, I'm not a very sensible person, and for some reason, I dislike having more than one computer at a time. Since I'm a member of the Dart team, I figured I should be prepared to use Dart Editor at any time of the day or night. Hence, I embarked on a multi-day journey, driven by my own obsessive compulsive disorder, to somehow figure out a way to run Dart Editor on a Chromebook.</p> <p>By far, the easiest approach is probably to install Ubuntu on it. I didn't want to take that approach since I really wanted to use ChromeOS as well, and I hate dual booting.</p> <p>The next approach is to put the machine in developer mode and install various things within the existing Linux distro. There are some pretty good instructions on that <a href="http://www.chromium.org/chromium-os/how-tos-and-troubleshooting/using-the-dev-server#TOC-How-to-build-a-single-package-and-i">here</a>. They involve setting up a build server, etc., which I balked at--I want fewer computers, not more computers!</p> <p>My next idea was to install a full Linux distro in a directory and chroot into it. I thought I was the first one to come up with this idea, but apparently, several other people have had this idea as well (which is the way ideas usually work). There are pretty good instructions on how to do that <a href="https://sites.google.com/site/chromeoswikisite/home/tips-and-tricks/developer-mode">here</a>. By the way, that page covers the other approaches as well. I spent a couple days with this approach, and I made a lot of progress. However, I never got things to work just right. I faced a few major hurdles:</p> <ul><li>The Chromebook is already running a window manager, but it doesn't work as a normal X11 window manager. Dart Editor doesn't behave very well without a normal X11 window manager. Furthermore, getting another window manager installed and running is non-trivial, and it makes ChromeOS look ugly.</li> <li>There's a lot of confusion about 32-bit vs. 64-bit binaries. If I understand correctly, the Chromebook is a 64-bit device running 32-bit binaries. There's also some confusion about 32-bit vs. 64-bit in the Dart Editor world which threw me off.</li> <li>I was having a hard time getting all the right dependencies to get Dart Editor and Dartium running.</li></ul> <p>Eventually, I discovered that <i>some</i> companies...ahem...don't like it if you put a Chromebook into developer mode and then try to connect to the corporate network. That kind of makes sense since putting a Chromebook in developer mode circumvents many of the nice security features the Chromebook provides. Hence, even if I did manage to get any of the above approaches working, I wouldn't be able to use it at work.</p> <p>My next approach was to look at Cloud9 IDE. It looks interesting, but it doesn't support Dart, and it definitely doesn't support Dart Editor.</p> <p>My next approach was to try "Chromoting" into a Linux box in the cloud using the "Chrome Remote Desktop" extension. I figured that would be easy to get working. Best of all, this doesn't require any hacking of the Chromebook. However, it has a few major drawbacks:</p> <ul><li>It doesn't work when I'm on a train (which is one day a week).</li><li>It doesn't work when I'm on a plane. It may sound strange, but almost all of the time I've spent learning Dart was while on planes flying around to give various YouTube API talks.</li><li>If I use chromoting to give a talk on Dart, and my network connection goes down (which tends to happen every time you give a talk), I wouldn't be able to use Dart Editor.</li><li>Chromebooks don't currently have a VPN solution.</li><li>Chromebooks do support SPDY Proxy, but that doesn't currently work with Chromoting.</li></ul> <p>Even with all those drawbacks, I knew Chromoting was the only solution likely to work for my particular set of constraints, so that's what I got to work. I had to install a 64-bit JDK and the 64-bit version of Dart Editor, but I eventually got things working. Hence, the picture above is a picture of me Chromoting into my Linux box and running Dart Editor.</p> <p>Ok, now that I've spent <i>way</i> too much time on this, and it's still not something I'd want to use on a daily basis, maybe it's time I get back to work ;)</p> <p><b>Update September 11, 2012</b>: I tried installing ChrUbuntu 12.04 on it using <a href="http://chromeos-cr48.blogspot.in/2012/04/chrubuntu-1204-now-with-double-bits.html">these instructions</a>. I got Dart Editor working, but my wireless wouldn't work reliably.</p> <p>I've heard that there are occasional driver issues when running 64-bit Linux on this device, so next I tried following <a href="http://williammcewan.blogspot.dk/2012/07/installing-ubuntu-on-chromebook.html?showComment=1346337691450#c747032541046725681">these instructions</a>. They walk you through installing ChrUbuntu 11.04 and upgrading twice to 12.04. Sure enough, this fixed my wireless problems. It temporarily broke my trackpad, but plugging in a mouse and rebooting fixed that problem. However, after following those instructions, I couldn't get Dart Editor to work. Whenever I tried to run it (from the command line), it would say, "Cannot find DartEditor". This is despite the fact that I was specifying the path to the executable. I think this is yet another weird 32-bit vs. 64-bit problem in the JRE.</p> <p>The fact that Chromebooks have a funky EFF BIOS makes them really great for running ChromeOS securely but not so convenient when you're trying to run a normal version of Linux. Having been defeated twice more, I got a USB drive and installed ChromeOS from scratch and exited developer mode.</p> <p><b>Update February 26, 2013</b>: I was hoping that "emerge chromeos-dev" was going to be the path to success, but it turns out that it probably won't be, at least in the short term. See this <a href="https://groups.google.com/a/chromium.org/d/topic/chromium-os-dev/ZKECSbGZrt0/discussion">forum post</a>. Right now, <a href="https://github.com/dnschneid/crouton">Crouton</a> looks to be the most viable approach. Also see <a href="http://gigaom.com/2013/02/26/3-alternatives-to-chrome-os-on-googles-chromebook-pixel/">this blog post</a>.</p> <p><b>Update February 27, 2013</b>: Success! I got it to work, thanks to Crouton, which is based on using a chroot. See <a href="http://jjinux.blogspot.com/2013/02/dart-on-chromebook-success.html">my newer blog post</a>.</p></div>
