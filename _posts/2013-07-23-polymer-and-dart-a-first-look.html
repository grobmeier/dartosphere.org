---
title: 'Polymer and Dart: A First Look'
layout: post
tags:
    - dart
    - dartlang
    - polymer
    - webcomponents
category: seth-ladds-blog
published: '2013-07-23T01:00:00-07:00'

---

In which I try the new polymer.dart, a build.dart file is deleted, and a template springs to life.<br /><br />(This post heavily inspired by Nik Graf's great "<a href="http://www.nikgraf.com/post/55711411091/getting-started-with-polymer-dart">Getting started with Polymer.dart</a>" post.)<br /><br /><h2>The web is evolving</h2><br />Developers take notice! Coming soon: actual encapsulation, real live data binding, even re-usable components! The Web Components family of specifications is on their way to a browser near you, but the standardizations process is lengthy. Fear not, web engineers are working hard to bring these new capabilities to you today.<br /><br />The <a href="http://www.polymer-project.org/">Polymer project</a>,&nbsp;a new type of library for the web, is built on top of Web Components, and designed to leverage the evolving web platform on modern browsers. Most importantly, the Polymer project has code that you can use&nbsp;<i>today</i>&nbsp;(to be fair, it's pre-alpha, but much of it works if you are brave).<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><img border="0" src="http://3.bp.blogspot.com/-BDddgOqtNBc/Ue4llRV0BiI/AAAAAAAAYqw/tQJAls-PToY/s1600/Screen+Shot+2013-07-22+at+11.42.57+PM.png" style="margin-left: auto; margin-right: auto;" /></td></tr><tr><td class="tr-caption" style="text-align: center;">The Polymer project is more than just polyfills.</td></tr></tbody></table><br /><h2>Web UI is evolving</h2><br />The Dart project, to more closely align with emerging web specifications, is building polymer.dart, the next evolution of Web UI. In the <a href="http://news.dartlang.org/2013/07/introducing-polymer-dart.html">announcement</a>, it was mentioned that Web UI will be sunset in favor of polymer.dart. While Web UI will be around for some time, new work focuses on polymer.dart.<br /><br />From the <a href="http://www.polymer-project.org/faq.html#dart">Polymer project FAQ</a>:<br /><br /><blockquote class="tr_bq"><b>How is polymer.dart related to Polymer?</b><br />polymer.dart is a Dart port of Polymer created and maintained by the Dart team. The Dart team is collaborating with the Polymer team to ensure that polymer.dart elements and polyfills are fully compatible with Polymer.</blockquote><br />Luckily for developers, polymer.dart and Web UI are fairly similar. It shouldn't be too much work to port a Web UI app to polymer.dart. We anticipate docs and examples to help developers with the transition.<br /><br />There are many good reasons for this evolution:<br /><br /><ul><li>closer alignment to another team building out support for Web Components</li><li>eventual elimination of the build/compile step required by Web UI</li><li>better interop between JavaScript components and Dart components</li><li>Dart developers get faster access to critical polyfills like Web Animations and Pointer Events</li></ul><br />There's no rush for you to upgrade. Polymer.dart is very new, and it will be some time before it is feature compatible with Web UI. So, stick with Web UI if you're building production apps and wait for the transition guides to appear.<br /><br /><h2>Aside: What about Angular?</h2><br />Many developers want to know what's up with Angular, and how it all relates. I can't speak for the Angular project, but this <a href="https://groups.google.com/forum/#!msg/polymer-dev/4RSYaKmbtEk/uYnY3900wpIJ">post</a> to the Polymer mailing list from Mi≈°ko Hevery&nbsp;should shed some light:<br /><br /><blockquote class="tr_bq">We're in early stages of designing Angular 2.0, but some of our goals are:&nbsp;</blockquote><blockquote class="tr_bq">- Angular will use the underlying web platform features available to it (e.g. Node.bind, template integration, Custom Elements, etc...)&nbsp;</blockquote><blockquote class="tr_bq">- Web Components (Polymer, Ember, or any other framework/library) will work seamlessly within Angular apps and directives.&nbsp;</blockquote><blockquote class="tr_bq">- Components written in Angular will export to Web Components (to be used by Polymer, Ember, or any other framework/library) .&nbsp;</blockquote><blockquote class="tr_bq">We're working actively with the MDV, Web Components, and Polymer teams to make sure that our approaches remain compatible as all these projects evolve (and they will still evolve).&nbsp;</blockquote><blockquote class="tr_bq">-- Misko &amp; the Angular team</blockquote>I look forward to frameworks like Angular using the foundation of Web Components.<br /><br /><h2>Hello, Polymer.dart</h2><br />Let's give polymer.dart a try! For this first look, we'll build a very simple "Hello, World" example that shows off how to install polymer.dart, use the &lt;template&gt; tag, and bind a model.<br /><br /><h3>Installing the polymer package</h3><br />Add the <a href="http://pub.dartlang.org/packages/pub">polymer pub package</a> to your pubspec.yaml. For this simple example, this is the only package that you'll need to explicitly declare:<br /><code></code><br /><pre class="prettyprint"><code>name: polymer_first_look<br />dependencies:<br />  <b>polymer: any</b><br /></code></pre><br /><br /><h3>Creating the template</h3><br />Add a &lt;template&gt; element to the web/index.html file. A &lt;template&gt; is an inert DOM fragment. It's valid HTML, but not activated by the page. You can manually clone the element and insert the clone into the page. Or, even better, you can use Model-Driven Views (MDV) to bind data to the template. The binding of data to the template activates the template, thus inserting it into the page.<br /><br />The <i>bind</i>&nbsp;attribute on the &lt;template&gt; element states that the template activates (is cloned and inserted into the DOM) when data is bound to the template. The bind attribute comes from MDV.<br /><br />The {{ and }} mark data binding between a field and some text. The field comes from the model data objects bound to the template. The {{ and }} are removed and replaced with the value of the field.<br /><br /><pre class="prettyprint"><code>&lt;!DOCTYPE html&gt;<br /><br />&lt;html&gt;<br />  &lt;head&gt;<br />    &lt;title&gt;index&lt;/title&gt;<br />  &lt;/head&gt;<br /> <br />  &lt;body&gt;   <br />    <b>&lt;template id="tmpl" bind&gt;<br />      &lt;p&gt;Hello {{msg}}&lt;/p&gt;<br />    &lt;/template&gt;</b><br />    <br />    &lt;script type="application/dart" src="index.dart"&gt;&lt;/script&gt;<br />    &lt;script src="packages/browser/dart.js"&gt;&lt;/script&gt;<br />  &lt;/body&gt;<br />&lt;/html&gt;<br /></code></pre><br /><br /><h3>Binding the data</h3><br />The application, in web/index.dart, creates a single model object (a plain Dart object) and then attaches it to the &lt;template&gt; element from the page.<br /><br />We must import the MDV package and initialize it before binding can have any effect.<br /><br /><br /><pre class="prettyprint"><code>import 'dart:html';<br />import 'package:mdv/mdv.dart' as mdv;<br /><br />class Message {<br />  String msg;<br />}<br /><br />main() {<br /><b>  mdv.initialize();<br />  <br />  var message = new Message()..msg = 'world';<br />  query('#tmpl').model = message;</b><br />}<br /></code></pre><br /><br />One big difference between Web UI and Polymer.dart: you must explicitly bind your model to the template. Web UI worked with code generation and lexical scope. Polymer.dart, because it comes from a JavaScript-influenced Polymer project, does not have code generation or lexical scope.<br /><br />And that's it! There's no need for a build.dart with this simple test app. This works in Dartium and via dart2js. (Note: dart2js + polymer.dart&nbsp;output size is quite large, but follow <a href="http://dartbug.com/11524">dartbug.com/11524</a> for a fix.)<br /><br /><h2>Next steps</h2><br /><ul><li>Join the <a href="https://groups.google.com/a/dartlang.org/forum/#!forum/web-ui">web-ui@</a> and <a href="https://groups.google.com/forum/?fromgroups=#!forum/polymer-dev">polymer-dev@</a> mailing lists.</li><li>File bugs on polymer.dart at <a href="http://dartbug.com/new">dartbug.com/new</a>.</li><li>Read all about <a href="http://www.polymer-project.org/">Polymer</a>.</li><li>Have fun! :)</li></ul><div>This is just the beginning, there's a lot to explore with polymer.dart. I'm looking forward to more experiments as I learn about this brave new world.</div><img src="http://feeds.feedburner.com/~r/SethLaddsBlog/~4/UmGVs2v1vcQ" height="1" width="1"/>
