---
title: 'Day 991: Mixing Config and Content in Polymers'
layout: post
tags:
    - chain
    - dart
    - dartlang
    - javascript
    - polymer
category: japhr-by-chris-strom
published: '2014-01-09T23:59:00-05:00'

---

<div class=top-chain-links></div><br />So it turns out that I already know how to do the rest. I hate it when that happens.<br /><br />The whole point of these posts is to ask a question to which I don't know the answer—and then answer it (or come up with next steps). So first the answer to the question I did not remember knowing. Then a new question that I am pretty sure I don't know.<br /><br />First up: how to mix distributed content with imported configuration in <a href="http://www.polymer-project.org/">Polymer</a>? The answer: you just do it. For instance, if I wanted to distribute “And good-bye…” as closing content in my super-simple <code>&lt;hello-you></code> Polymer, I can write it like:<pre class=prettyprint><code>      &lt;hello-you><br />        &lt;link rel="import" href="scripts/hello-you.json"><br /><b>        &lt;p>And good-bye…&lt;/p></b><br />      &lt;/hello-you></code></pre>Now I am importing <code>hello-you.json</code> configuration and including HTML content inside my custom <code>&lt;hello-you></code> Polymer instead of just using configuration. I can continue to use the same code to process the configuration from yesterday without change. To include the HTML content—without <code>&lt;link></code> noise, I just include a <code>&lt;content></code> tag like usual in the Polymer's <code>&lt;template></code>:<pre class=prettyprint>&lt;link rel="import" href="../bower_components/polymer/polymer.html"><br />&lt;polymer-element name="hello-you"><br />  &lt;template><br />    &lt;h2>{{hello}} {{your_name}}&lt;/h2><br />    &lt;!-- ... --><br /><b>    &lt;content>&lt;/content></b><br />  &lt;/template><br />  &lt;script><br />    Polymer('hello-you', {<br />      // ...<br />    });<br />  &lt;/script><br />&lt;/polymer-element></pre>The result is exactly what I desire—the content wrapped by my Polymer is distributed into the Polymer's DOM:<br /><br /><a href="http://2.bp.blogspot.com/-epnb8sCtg7w/Us90OYr8k1I/AAAAAAAAUy8/_P_s0UaiNJQ/s1600/01-config_and_distributed.png" imageanchor="1" ><img border="0" src="http://2.bp.blogspot.com/-epnb8sCtg7w/Us90OYr8k1I/AAAAAAAAUy8/_P_s0UaiNJQ/s640/01-config_and_distributed.png" /></a><br /><br />I already know how to do similar stuff in <a href="http://dartlang.org">Dart</a>. Instead of importing outside of the <code>&lt;polymer-element></code> tag, I need to include the <code>&lt;link></code> tag inside:<pre class="prettyprint">&lt;script src="../../packages/browser/dart.js">&lt;/script><br />&lt;script src="../../packages/browser/interop.js">&lt;/script><br />&lt;polymer-element name="hello-you"><br /><b>  &lt;link rel="import" href="hello-you.json"></b><br />  &lt;template><br />    &lt;!-- ... --><br />  &lt;/template><br />  &lt;script type="application/dart" src="hello_you.dart">&lt;/script><br />&lt;/polymer-element></pre>I also have to use my Polymer transformer to strip out JSON, but I have gotten used to that.<br /><br />What I need to figure out tonight, is how to organize my Polymers. I have been putting everything in a <code>scripts</code> directory and, especially with all of the internal and external configuration floating around, that seems to be messy.<br /><br />Folks have suggested an “elements” directory to hold Polymers. And after a bit of fiddling, I settle on that as well. It is not as tied to implementation as “polymers” might be, but seems to do a good job of separating regular code from Polymer:<pre class=prettyprint>$ tree -I 'bower_components|node_modules'<br />.<br />├── assets<br />│   └── bootstrap.min.css<br />├── bower.json<br />├── elements<br />│   ├── hello-you.html<br />│   └── hello-you.json<br />├── Gruntfile.js<br />├── index.html<br />├── karma.conf.js<br />├── package.json<br />└── scripts<br />    └── hello-you.json</pre>Here, the <code>hello-you.json</code> in the <code>scripts</code> directory is the custom configuration that is being applied to the Polymer whereas the one inside <code>elements</code> is the internal configuration for the Polymer.<br /><br />I am still unsure if it really helps much in the Dart code. The custom configuration there tends to reside in the <code>web</code> directory and everything else—Polymer and Polymer backing code—goes in <code>lib</code>. Still some folks seem to prefer placing elements in <code>lib/elements</code> and that seems more consistent between the two languages so I will probably adopt that convention as well.<br /><br /><span style="color: #ccc">Day #991</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/01/day-990-internal-configuration-of.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <a href="http://japhr.blogspot.com/2014/01/day-992-search-and-replace-dart.html">next&rsaquo;</a> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script>
