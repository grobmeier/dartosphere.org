---
title: 'Too Many Parts'
layout: post
tags:
    - chain
    - dart
    - dartlang
    - polymer
category: japhr-by-chris-strom
published: '2014-01-06T23:59:00-05:00'

---

<div class=top-chain-links></div><br />I think I have done all I can to ready <code>&lt;ice-code-editor></code>, the <a href="http://www.polymer-project.org/">Polymer</a> version of the <a href="https://github.com/eee-c/ice-code-editor">ICE Code Editor</a>, for deployment. Despite best efforts, I cannot generate minified JavaScript, though the regular <code>dart2js</code> output works just fine. There is still a trick or two I would like to try.<br /><br />First, I tried rebasing my polymer branch back onto my master branch, hoping some of the more recent changes might help with the minified output. It doesn't. I also tried minifying the <code>dart2js</code> output with both the YUI Compressor and Closure. Neither is able to parse the <code>dart2js</code> output. So again, I am stuck with the non-minified <code>dart2js</code> from yesterday.<br /><br />At least I tried.<br /><br />I have been working on the configuration chapter in <a href="http://patternsinpolymer.com">Patterns in Polymer</a> and, at the risk of treating that like a golden hammer, I am curious if I might be able to use that technique in this Polymer. It is not quite a direct application because that chapter works with configuration in the Polymer definition itself. Here, I would like to configure individual <code>&lt;ice-code-editor></code> elements. Specifically, I want to specify the data to be included in the in-page editor.<br /><br />Currently, this is accomplished with a <code>src</code> attribute:<pre class="prettyprint">&lt;ice-code-editor src="embed_a.html" line_number="21">&lt;/ice-code-editor></pre>Here, the <code>emdeb_a.html</code> is a separate resource that contains the content that is ready to edit and creates the preview:<br /><br /><a href="http://1.bp.blogspot.com/-v5Sim7zAfI4/UsuCtn9CPeI/AAAAAAAAUxo/__WJ-kPmNNU/s1600/01-embed_a.png" imageanchor="1" ><img border="0" src="http://1.bp.blogspot.com/-v5Sim7zAfI4/UsuCtn9CPeI/AAAAAAAAUxo/__WJ-kPmNNU/s640/01-embed_a.png" /></a><br /><br />This is currently retrieved via an HttpRequest, but perhaps something like a <code>&lt;link></code> import would work:<pre class="prettyprint">&lt;ice-code-editor line_number="21"><br />  &lt;link rel="import" href="embed_a.html"><br />&lt;/ice-code-editor></pre><br />But ultimately, I run into too many problems that are likely related to the underlying ICE Code Editor. The ICE Code Editor is meant to manipulate the DOM of the containing page. Placing the code in a document fragment like the one created by Polymer seems to be an effective way of keeping the ICE code from trying to manipulate the main document. But this <code>&lt;link></code> import gives the code access to the main document. <br /><br />The result is that ICE puts the imported Three.js simulation directly on the page rather than in the editor:<br /><br /><a href="http://2.bp.blogspot.com/-hYrwKrRU8Ts/UsuJah_vM9I/AAAAAAAAUx4/SviVJH1cJ30/s1600/02-outside_outside.png" imageanchor="1" ><img border="0" src="http://2.bp.blogspot.com/-hYrwKrRU8Ts/UsuJah_vM9I/AAAAAAAAUx4/SviVJH1cJ30/s640/02-outside_outside.png" /></a><br /><br />This still seems like it might be a worthwhile approach. The import seems to be working—a little too good in this case—but it does seem as though data is imported. For now, I will stick with the <code>src</code> + HttpRequest import. But I will try the <code>&lt;link></code> import another day with a smaller Polymer. <br /><br /><b>Update:</b> Added a <a href="http://gamingjs.com/polymer/">live demo</a>.<br /><br /><br /><br /><span style="color: #ccc">Day #988</span>  <br /><br /><p class=bottom-chain-links><a href="http://japhr.blogspot.com/2014/01/cannot-minify-polymerdart.html">&lsaquo;prev</a> | <a href="http://japhr.blogspot.com/2013/11/new-chain-patterns-in-polymer.html">My Chain</a> | <a href="http://japhr.blogspot.com/2014/01/importing-per-polymer-configuration.html">next&rsaquo;</a> </p><script>var b_links = document.getElementsByClassName('bottom-chain-links'),      t_links = document.getElementsByClassName('top-chain-links');  if (b_links.length == 1 && t_links.length == 1) {   t_links[0].innerHTML = b_links[0].innerHTML; } </script>
